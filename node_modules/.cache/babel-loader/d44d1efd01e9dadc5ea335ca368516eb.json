{"ast":null,"code":"import _regeneratorRuntime from\"/home/gurgen/Desktop/new-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/gurgen/Desktop/new-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/gurgen/Desktop/new-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{aboutTask}from\"../DAL/dal\";import{TaskCreatedAlert}from\"../components/AlertComponent/AlertComponent\";var CREATE_TASK='create-task/reducer/CREATE_TASK';var initialState={tasks:[]};export var createTaskReducer=function createTaskReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case CREATE_TASK:return _objectSpread({},state,{tasks:action.task});default:return state;}};export var createTaskAC=function createTaskAC(task){return{type:CREATE_TASK,task:task};};export var createTaskThunk=function createTaskThunk(task){var edited=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return aboutTask.postTask(task,edited);case 2:response=_context.sent;if(!(response.status===200)){_context.next=7;break;}_context.next=6;return TaskCreatedAlert();case 6:dispatch(getTasksThunk());case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getTasksThunk=function getTasksThunk(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response,key,_key;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return aboutTask.getTask();case 2:response=_context2.sent;if(response.data){key=Object.keys(response.data).map(function(key){return _objectSpread({},response.data[key],{id:key});});if(response.status===200){dispatch(createTaskAC(key));}}if(!response.data){_key=[];dispatch(createTaskAC(_key));}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var deleteTaskThunk=function deleteTaskThunk(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return aboutTask.deleteTask(id);case 2:response=_context3.sent;if(response.status===200){dispatch(getTasksThunk());}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var completeTaskThunk=function completeTaskThunk(id,completedTaskDay,completedTaskTime){var completed=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return aboutTask.doneTasks(id,completedTaskDay,completedTaskTime,completed);case 2:response=_context4.sent;if(response.status===200){dispatch(getTasksThunk());}case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var taskCountThunk=function taskCountThunk(task){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return aboutTask.TasksCount(task);case 2:case\"end\":return _context5.stop();}}},_callee5);}));};","map":{"version":3,"sources":["/home/gurgen/Desktop/new-app/src/store/createTaskReducer.js"],"names":["aboutTask","TaskCreatedAlert","CREATE_TASK","initialState","tasks","createTaskReducer","state","action","type","task","createTaskAC","createTaskThunk","edited","dispatch","postTask","response","status","getTasksThunk","getTask","data","key","Object","keys","map","id","deleteTaskThunk","deleteTask","completeTaskThunk","completedTaskDay","completedTaskTime","completed","doneTasks","taskCountThunk","TasksCount"],"mappings":"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","sourcesContent":["import {aboutTask} from \"../DAL/dal\";\nimport {TaskCreatedAlert} from \"../components/AlertComponent/AlertComponent\";\n\nconst CREATE_TASK = 'create-task/reducer/CREATE_TASK';\n\nconst initialState = {\n    tasks: []\n}\n\nexport const createTaskReducer = (state=initialState,action) => {\n    switch (action.type) {\n        case CREATE_TASK:\n            return {\n                ...state,\n                tasks: action.task\n            }\n        default:\n            return state\n    }\n}\n\nexport const createTaskAC = (task) => ({type: CREATE_TASK, task })\n\nexport const createTaskThunk = (task, edited= null) => {\n    return async (dispatch) => {\n        const response = await aboutTask.postTask(task,edited)\n        if (response.status === 200 ) {\n            await TaskCreatedAlert()\n            dispatch(getTasksThunk())\n        }\n    }\n}\n\nexport const getTasksThunk =  () => {\n    return async (dispatch) => {\n        const response = await aboutTask.getTask()\n        if (response.data) {\n            const key = Object.keys(response.data).map(key => {\n                return {\n                    ...response.data[key],\n                    id : key,\n                }\n            })\n            if (response.status === 200) {\n                dispatch(createTaskAC(key))\n            }\n        }\n        if (!response.data) {\n            const key = []\n            dispatch(createTaskAC(key))\n        }\n    }\n}\n\nexport const deleteTaskThunk = (id) => {\n    return async (dispatch) => {\n        const response = await aboutTask.deleteTask(id)\n        if (response.status === 200) {\n            dispatch(getTasksThunk())\n        }\n    }\n}\n\nexport const completeTaskThunk = (id, completedTaskDay, completedTaskTime, completed=true) => {\n    return async (dispatch) => {\n        const response = await aboutTask.doneTasks(id,completedTaskDay,completedTaskTime,completed)\n        if (response.status === 200) {\n            dispatch(getTasksThunk())\n        }\n    }\n}\n\nexport const taskCountThunk = (task) => {\n    return async ()=> {\n        await aboutTask.TasksCount(task)\n    }\n}\n"]},"metadata":{},"sourceType":"module"}