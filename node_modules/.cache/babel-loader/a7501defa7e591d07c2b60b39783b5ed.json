{"ast":null,"code":"var _jsxFileName = \"/home/gurgen/Desktop/new-app/src/store/createTaskReducer.js\";\nimport { aboutTask } from \"../DAL/dal\";\nimport { TaskCreatedAlert } from \"../components/AlertComponent/AlertComponent\";\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nconst CREATE_TASK = 'create-task/reducer/CREATE_TASK';\nconst initialState = {\n  tasks: []\n};\nexport const createTaskReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CREATE_TASK:\n      return { ...state,\n        tasks: action.task\n      };\n\n    default:\n      return state;\n  }\n};\nexport const createTaskAC = task => ({\n  type: CREATE_TASK,\n  task\n});\nexport const createTaskThunk = (task, edited = null) => {\n  return async dispatch => {\n    const response = await aboutTask.postTask(task, edited);\n\n    if (response.status === 200) {\n      await TaskCreatedAlert();\n      dispatch(getTasksThunk());\n    }\n  };\n};\nexport const getTasksThunk = () => {\n  return async dispatch => {\n    const response = await aboutTask.getTask();\n    console.log(response.data === null, 'DATA');\n\n    if (response.data) {\n      const key = Object.keys(response.data).map(key => {\n        return { ...response.data[key],\n          id: key\n        };\n      });\n\n      if (response.status === 200) {\n        dispatch(createTaskAC(key));\n      }\n    } else return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 22\n      }\n    });\n  }; // onClick={getTasksThunk() required}\n};\nexport const deleteTaskThunk = id => {\n  return async dispatch => {\n    const response = await aboutTask.deleteTask(id);\n\n    if (response.status === 200) {\n      dispatch(getTasksThunk());\n    }\n  };\n};\nexport const completeTaskThunk = (id, completedTaskDay, completedTaskTime, completed = true) => {\n  return async dispatch => {\n    const response = await aboutTask.doneTasks(id, completedTaskDay, completedTaskTime, completed);\n\n    if (response.status === 200) {\n      dispatch(getTasksThunk());\n    }\n  };\n};","map":{"version":3,"sources":["/home/gurgen/Desktop/new-app/src/store/createTaskReducer.js"],"names":["aboutTask","TaskCreatedAlert","React","Redirect","CREATE_TASK","initialState","tasks","createTaskReducer","state","action","type","task","createTaskAC","createTaskThunk","edited","dispatch","response","postTask","status","getTasksThunk","getTask","console","log","data","key","Object","keys","map","id","deleteTaskThunk","deleteTask","completeTaskThunk","completedTaskDay","completedTaskTime","completed","doneTasks"],"mappings":"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","sourcesContent":["import {aboutTask} from \"../DAL/dal\";\nimport {TaskCreatedAlert} from \"../components/AlertComponent/AlertComponent\";\nimport React from \"react\";\nimport {Redirect} from \"react-router-dom\";\n\nconst CREATE_TASK = 'create-task/reducer/CREATE_TASK';\n\nconst initialState = {\n    tasks: []\n}\n\nexport const createTaskReducer = (state=initialState,action) => {\n    switch (action.type) {\n        case CREATE_TASK:\n            return {\n                ...state,\n                tasks: action.task\n            }\n        default:\n            return state\n    }\n}\n\nexport const createTaskAC = (task) => ({type: CREATE_TASK, task })\n\nexport const createTaskThunk = (task, edited= null) => {\n    return async (dispatch) => {\n        const response = await aboutTask.postTask(task,edited)\n        if (response.status === 200 ) {\n            await TaskCreatedAlert()\n            dispatch(getTasksThunk())\n        }\n    }\n}\n\nexport const getTasksThunk =  () => {\n    return async (dispatch) => {\n        const response = await aboutTask.getTask()\n        console.log(response.data === null, 'DATA')\n        if (response.data) {\n            const key = Object.keys(response.data).map(key => {\n                return {\n                    ...response.data[key],\n                    id : key,\n                }\n            })\n            if (response.status === 200) {\n                dispatch(createTaskAC(key))\n            }\n        }else return <Redirect to='/home'/>\n    }\n    // onClick={getTasksThunk() required}\n}\n\nexport const deleteTaskThunk = (id) => {\n    return async (dispatch) => {\n        const response = await aboutTask.deleteTask(id)\n        if (response.status === 200) {\n            dispatch(getTasksThunk())\n        }\n    }\n}\n\nexport const completeTaskThunk = (id, completedTaskDay, completedTaskTime, completed=true) => {\n    return async (dispatch) => {\n        const response = await aboutTask.doneTasks(id,completedTaskDay,completedTaskTime,completed)\n        if (response.status === 200) {\n            dispatch(getTasksThunk())\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"module"}